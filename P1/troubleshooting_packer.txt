Installing Packer
#######################


shekhar [ ~ ]$ cat /proc/1/cgroup
13:rdma:/gcs
12:pids:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
11:hugetlb:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
10:net_prio:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
9:perf_event:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
8:net_cls:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
7:freezer:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
6:devices:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
5:memory:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
4:blkio:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
3:cpuacct:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
2:cpu:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
1:cpuset:/containers/490a2aaf4ef80b03c18466e00dcd2c233aff6bf5c1fd663f10d8059f1a54803f
shekhar [ ~ ]$ curl -O https://releases.hashicorp.com/packer/1.8.6/packer_1.8.6_linux_amd64.zip
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 63.2M  100 63.2M    0     0   190M      0 --:--:-- --:--:-- --:--:--  190M

shekhar [ ~ ]$ unzip packer_1.8.6_linux_amd64.zip
Archive:  packer_1.8.6_linux_amd64.zip
  inflating: packer          

shekhar [ ~ ]$ mkdir -p ~/bin
shekhar [ ~ ]$ mv packer ~/bin/
shekhar [ ~ ]$ echo 'export PATH=$PATH:~/bin' >> ~/.bashrc
shekhar [ ~ ]$ source ~/.bashrc
shekhar [ ~ ]$ packer --version
1.8.6



App registration
##################


az role assignment create --assignee ac3baaf7-1760-4b69-a4c6-704dcdbcebb2 --role Contributor --resource-group sb-west-europe


{
  "appId": "b8945795-10b3-4140-b056-6b7edec4d4a5",
  "displayName": "my-packer-sp",
  "password": "Y118Q~qmzCUhoDZQJVGzEGvUvPfyK5UZdEqZPczl",
  "tenant": "c2994726-2154-414a-97ac-64b2e7c03376"
}

az role assignment create --assignee b8945795-10b3-4140-b056-6b7edec4d4a5 --role Contributor --scope /subscriptions/0fc88ba0-a7fc-4f7c-bd55-59425648f69b


C:\Users\shekh\Downloads\azure-devops\p1>az role assignment list --assignee b8945795-10b3-4140-b056-6b7edec4d4a5 --output table
Principal                             Role         Scope
------------------------------------  -----------  ---------------------------------------------------
b8945795-10b3-4140-b056-6b7edec4d4a5  Contributor  /subscriptions/0fc88ba0-a7fc-4f7c-bd55-59425648f69b






Setting ENV Variables
#########################


shekhar [ ~ ]$ echo "export ARM_CLIENT_SECRET='1606963f-a706-4bc3-bc15-6dbdb78ce4d1'" >> ~/.bashrc
shekhar [ ~ ]$ echo "export ARM_SUBSCRIPTION_ID='0fc88ba0-a7fc-4f7c-bd55-59425648f69b'" >> ~/.bashrc
shekhar [ ~ ]$ source ~/.bashrc~
bash: /home/shekhar/.bashrc~: No such file or directory
shekhar [ ~ ]$ 
shekhar [ ~ ]$ 
shekhar [ ~ ]$ echo "export ARM_CLIENT_ID='eb30a82f-2d52-4de0-84c2-5ecb67632510'" >> ~/.bashrc~
shekhar [ ~ ]$ echo "export ARM_CLIENT_SECRET='1606963f-a706-4bc3-bc15-6dbdb78ce4d1'" >> ~/.bashrc
shekhar [ ~ ]$ echo "export ARM_SUBSCRIPTION_ID='0fc88ba0-a7fc-4f7c-bd55-59425648f69b'" >> ~/.bashrc
shekhar [ ~ ]$ source ~/.bashrc
shekhar [ ~ ]$ 
shekhar [ ~ ]$ 
shekhar [ ~ ]$ 
shekhar [ ~ ]$ 
shekhar [ ~ ]$ echo $ARM_CLIENT_ID

shekhar [ ~ ]$ echo $ARM_CLIENT_SECRET
1606963f-a706-4bc3-bc15-6dbdb78ce4d1
shekhar [ ~ ]$ echo $ARM_SUBSCRIPTION_ID
0fc88ba0-a7fc-4f7c-bd55-59425648f69b
shekhar [ ~ ]$ echo $ARM_CLIENT_ID

shekhar [ ~ ]$ echo "export ARM_CLIENT_ID='eb30a82f-2d52-4de0-84c2-5ecb67632510'" >> ~/.bashrc
shekhar [ ~ ]$ echo $ARM_CLIENT_ID

shekhar [ ~ ]$ source ~/.bashrc
shekhar [ ~ ]$ echo $ARM_CLIENT_ID
eb30a82f-2d52-4de0-84c2-5ecb67632510
